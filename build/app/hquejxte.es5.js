/*! Built with http://stenciljs.com */
var __generator=this&&this.__generator||function(e,t){var o,r,n,i,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(n=(n=l.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){l.label=i[1];break}if(6===i[0]&&l.label<n[1]){l.label=n[1],n=i;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(i);break}n[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],r=0}finally{o=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};App.loadBundle("hquejxte",["exports","./chunk-8620c05a.js","./chunk-f8d8f6ab.js"],function(e,t,o){var r=window.App.h,n=function(){function e(){this.blogs=[]}return e.prototype.componentWillLoad=function(){return this.getBlogData()},e.prototype.getBlogData=function(){var e=this;return console.log("I am getblodata"),fetch(this.blogUrl+"?key="+this.blogApiKey).then(function(e){return e.json()}).then(function(t){return e.blogs=t.items}).catch(function(e){throw new Error(e)})},e.prototype.render=function(){return r("div",{class:"has-text-centered"},r("i",{class:"fa fa-4x fa-rss text-primary sr-icons"}),r("h3",null,"Blog"),this.blogs.map(function(e){return r("div",{class:"notification"},r("a",{href:e.url,target:"_blank",rel:"noopener"},e.title),r("br",null),r("span",{innerHTML:e.content}))}))},Object.defineProperty(e,"is",{get:function(){return"my-web-blog"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{blogApiKey:{type:String,attr:"blog-api-key"},blogUrl:{type:String,attr:"blog-url"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return".notification{max-height:110px;overflow:scroll}"},enumerable:!0,configurable:!0}),e}(),i=function(){function e(){this.card={image:"assets/img/book-default.svg"}}return e.prototype.booksChangeHandler=function(e,t){for(var o=[],r=e.slice();r.length;)o.push(r.splice(0,3));this.book2dArr=o,console.log("old val in 3darr",t),console.log("value of 3d arr in watchis",this.book2dArr)},e.prototype.componentDidUpdate=function(){this.modal=this.element.querySelector("#myModal"),console.log("booklib comp loaded modal is",this.element.querySelector("div")),console.log("booklib comp loaded modal is",this.modal)},e.prototype.openModal=function(e){console.log("element",this.element),console.log("event",e),this.modal.classList.add("is-active")},e.prototype.closeModal=function(e){console.log("element",this.element),console.log("event",e),this.modal.classList.remove("is-active")},e.prototype.render=function(){var e=this,t={currentReading:{color:"green"},myRating:{color:"green"}};return this.book2dArr&&this.books?r("div",null,r("div",{class:"has-text-centered"},r("i",{class:"fa fa-4x fa-book "}),r("h3",null,"Latest Reads")),r("div",{class:"card"},r("div",{class:"card-content"},r("div",{class:"media"},r("div",{class:"media-left"},r("figure",{class:"image is-96x96"},r("img",{src:this.card.image,alt:"Placeholder image"}))),r("div",{class:"media-content"},r("p",{id:"currentBook",class:"title is-4"},this.currentBook.title," "),r("p",{id:"currentAuthor",class:"subtitle is-6"},"By- ",this.currentBook.author),r("span",{id:"currentRead",class:"tag is-primary is-medium"},"Now Reading"))),r("div",{class:"content"},r("hr",null),r("span",{style:t.currentReading,id:"currentRating"},"My Rating: ",this.currentBook.myrating)),r("hr",null),r("p",{id:"bookcount",class:"is-pulled-lefthas-text-centered"},"Book Count: ",this.books.length),r("button",{type:"button",class:"button is-pulled-right","data-toggle":"modal","data-target":"#myModal",onClick:function(t){return e.openModal(t)}}," View All Reads"))),r("div",{class:"modal fade",id:"myModal",role:"dialog","data-reveal":!0},r("div",{class:"modal-background"}),r("div",{class:"modal-card"},r("header",{class:"modal-card-head"},r("h4",{class:"modal-card-title"},"Books so far"),r("button",{class:"delete","aria-label":"close",onClick:function(t){return e.closeModal(t)}},"Ã—")),r("section",{class:"modal-card-body"},this.book2dArr.map(function(e){return r("div",{class:"columns"},e.map(function(e){return r("div",{class:"column"},r("div",{class:"card"},r("div",{class:"card-content"},r("div",{class:"media"},r("div",{class:"media-content"},r("p",{id:"currentBook",class:"title is-4"},e.title," "),r("p",{id:"currentAuthor",class:"subtitle is-6"},"By- ",e.author))),r("h5",{class:"tag is-info"},e.read?"Completed":"Reading"),r("p",{style:t.myRating,id:"myrating"},r("sub",null,"My Rating")),r("progress",{class:"progress is-small is-warning",value:e.myrating,max:"10"},"45%"))))}))})),r("footer",{class:"modal-card-foot"},r("button",{class:"button",onClick:function(t){return e.closeModal(t)}},"Close"))))):r("div",null)},Object.defineProperty(e,"is",{get:function(){return"my-web-book-library"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{book2dArr:{state:!0},books:{type:"Any",attr:"books",watchCallbacks:["booksChangeHandler"]},card:{type:"Any",attr:"card"},currentBook:{type:"Any",attr:"current-book"},element:{elementRef:!0},modal:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return""},enumerable:!0,configurable:!0}),e}(),l=function(){},s=function(e,t,o,r){return new(o||(o=Promise))(function(n,i){function l(e){try{a(r.next(e))}catch(e){i(e)}}function s(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){e.done?n(e.value):new o(function(t){t(e.value)}).then(l,s)}a((r=r.apply(e,t||[])).next())})},a=function(){function e(){this.db=t.firebase.database()}return e.prototype.componentWillLoad=function(){return s(this,void 0,void 0,function(){return __generator(this,function(e){return!1===this.isServer&&(console.log("this server is false",this.isServer),this.getBooksLibrary()),[2]})})},e.prototype.getBooksLibrary=function(){return s(this,void 0,void 0,function(){var e,t=this;return __generator(this,function(o){switch(o.label){case 0:return[4,this.db.ref("/books").once("value")];case 1:return e=o.sent(),this.books=e.val()||[new l],console.log("books",this.books),this.books.forEach(function(e){e.read||(t.currentBook=e)}),[2]}})})},e.prototype.render=function(){return r("section",{id:"social",class:"section"},r("div",{class:"container has-text-centered"},r("h2",{class:"title"},"Social"),r("hr",{class:"light"})),r("div",{class:"columns"},r("div",{class:"column"},r("my-web-blog",{blogUrl:"https://www.googleapis.com/blogger/v3/blogs/4562383522539686383/posts",blogApiKey:"AIzaSyBgiSne19z3sYYRp-KC7HZajqT4SSR9iDM"})),r("div",{class:"column"},r("my-web-twitter",null)),r("div",{class:"column"},r("my-web-book-library",{books:this.books,currentBook:this.currentBook}))))},Object.defineProperty(e,"is",{get:function(){return"my-web-social"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{books:{state:!0},currentBook:{state:!0},isServer:{context:"isServer"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"div ul li.rss-item{overflow:hidden;text-overflow:ellipsis;max-height:100px}"},enumerable:!0,configurable:!0}),e}(),c=function(){function e(){}return e.prototype.render=function(){return r("div",null,r("div",{class:"has-text-centered"},r("i",{class:"fab fa-4x fa-twitter"}),r("h3",null,"Tweets")),r("div",{class:"card twitter-box"},r("a",{class:"twitter-timeline",href:"https://twitter.com/sshivamsngh?ref_src=twsrc%5Etfw"},"Tweets by Shivam")," ",r("script",{async:!0,src:"https://platform.twitter.com/widgets.js",charset:"utf-8"})))},Object.defineProperty(e,"is",{get:function(){return"my-web-twitter"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"div.twitter-box{overflow:scroll;max-height:330px}"},enumerable:!0,configurable:!0}),e}();e.MyWebBlog=n,e.MyWebBookLibrary=i,e.MyWebSocial=a,e.MyWebTwitter=c,Object.defineProperty(e,"__esModule",{value:!0})});